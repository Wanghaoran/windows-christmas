<!DOCTYPE html>
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Windows Phone 许愿送贺卡</title>
<meta http-equiv="Cache-Control" content="max-age=3600">
<meta name="MobileOptimized" content="240">
<meta name="apple-touch-fullscreen" content="YES">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="viewport" content="width=device-width, initial-scale=1.0,  minimum-scale=1.0, maximum-scale=1.0">
<meta name="keywords" content="">
<meta name="description" content="">
<link rel="stylesheet" type="text/css" href="__PUBLIC__/index/css/common.css">
<script type="text/javascript" src="__PUBLIC__/index/js/jquery-1.9.1.min.js"></script>
<script type="text/javascript">
(function($){
	$.fn.hcheckbox=function(options){
		$(':checkbox+label',this).each(function(){
			$(this).addClass('checkbox');
            if($(this).prev().is(':disabled')==false){
                if($(this).prev().is(':checked'))
				    $(this).addClass("checked");
            }else{
                $(this).addClass('disabled');
            }
		}).click(function(event){

				if(!$(this).prev().is(':checked')){
					if($('label.checked').size()==3){
//                        $('#testform').submit();
						alert("最多只能选三个礼物！");
						return false;
				     }

					
				    $(this).addClass("checked");
                    $(this).prev()[0].checked = true;
					
                }
                else{
                    $(this).removeClass('checked');			
                    $(this).prev()[0].checked = false;
                }
                event.stopPropagation();

                    if($('label.checked').size()==3){
                        $('#testform').submit();
//                        alert("最多只能选三个礼物！");
                        return false;
                    }
			
			}
		).prev().hide();
	}
})(jQuery)
</script>
<script type="text/javascript">
//复选框
$(function(){
	$('.giftbox').hcheckbox();
});

//显示灰色 jQuery 遮罩层
function showBg() {
	
	$("#hidebg").css({
		display: "block"
	});
	$("#popDiv").show();
}
//关闭灰色 jQuery 遮罩
function closeBg() {
	$("#hidebg,#popDiv").hide();
}
</script>
</head>
<!--背景1-->
<body>
<!--遮罩层  start-->
<div id="popDiv" class="mydiv" style="display:none;"> 	
    <a href="javascript:closeBg()" class="icon_close"></a>  
    <div class="divimg">
    <img src="__PUBLIC__/index/images/popdiv.jpg"/>
    </div>
</div>                                   
<div id="hidebg" class="hidebg" style="display:none"></div> 
<!--遮罩层  end--> 
<!--背景2-->
<div id="container" class="container1">
	<!--背景3-->
    <div id="content1">
    	<!--背景4-->
    	<div id="content2">
        	<!--logo 图标-->
            <div class="logo">
                <a href="#"><img src="__PUBLIC__/index/images/logo.png"/></a>
            </div>
            <!--logo 文字-->
            <div class="logotitle"><img src="__PUBLIC__/index/images/logotitle.png"/></div>
            <div id="treebox">
            	
            	<form id="testform" action="__URL__/check" method="post">
            	<ul class="giftbox">
                	<div class="tip"></div>
                    <volist name="gift" id="g">
                        <li class="li<-{$key}->">
                            <input type="checkbox" name="checkgift[]" value='<-{$key}->' /><label><img id="img_<-{$key}->"  src="__PUBLIC__/index/images/<-{$key}->.png"/></label>
                        </li>
                    </volist>

                </ul>
                <div class="btn_zmw"><a href="#" onClick="showBg();"></a></div>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
<script>
$(function(){
    $.each($('label.checked'), function(key,val){
        $(val).removeClass('checked');
        $(val).prev()[0].checked = false;
    });
});
</script>

</html>
